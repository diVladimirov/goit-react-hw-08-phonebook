"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[141],{6897:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(6030),a=t(885),i=t(2791),c=t(6052),s=t(6151),o=t(5725),u=t(4554),l=t(890),d=t(1889),m=t(7593),x=t(3494),h=t(184),f=function(){var e=(0,i.useState)(""),n=(0,a.Z)(e,2),t=n[0],f=n[1],Z=(0,i.useState)(""),j=(0,a.Z)(Z,2),p=j[0],b=j[1],v=(0,r.I0)(),C=(0,r.v9)((function(e){return e.contacts.items})),g=(0,i.useState)(!1),w=(0,a.Z)(g,2),y=w[0],k=w[1];(0,i.useEffect)((function(){v(c.Z.fetchContacts())}),[v]);var S=function(){return k(!1)},W=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":return f(r);case"number":return b(r);default:return}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.Z,{onClick:function(){return k(!0)},variant:"contained",sx:{marginBottom:2},startIcon:(0,h.jsx)(x.Z,{}),children:"Add new contact"}),(0,h.jsx)(o.Z,{open:y,onClose:S,children:(0,h.jsxs)(u.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,borderRadius:2},children:[(0,h.jsx)(l.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"Create new contact"}),(0,h.jsxs)(u.Z,{component:"form",onSubmit:function(e){if(e.preventDefault(),C.find((function(e){return e.name.toLowerCase()===t.toLowerCase()})))return alert("".concat(t," is already in contacts."));v(c.Z.createNewContact({name:t,number:p})),f(""),b("")},sx:{mt:3},children:[(0,h.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(d.ZP,{item:!0,xs:12,children:(0,h.jsx)(m.Z,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,type:"text",value:t,onChange:W})}),(0,h.jsx)(d.ZP,{item:!0,xs:12,children:(0,h.jsx)(m.Z,{name:"number",required:!0,fullWidth:!0,id:"number",label:"Number",type:"tel",value:p,onChange:W})})]}),(0,h.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Create"}),(0,h.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",onClick:S,sx:{mb:2},children:"Close"})]})]})})]})},Z=t(9281),j=t(703),p=t(9836),b=t(6890),v=t(5855),C=t(3994),g=t(3382),w=t(3767),y=t(1469),k=t(3400),S=t(6273),W=t(8471),N=t(2601),P=function(){var e=(0,r.v9)((function(e){return e.contacts.items})),n=(0,r.v9)((function(e){return e.contacts.filter})),t=(0,r.I0)(),a=e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(Z.Z,{component:j.Z,children:(0,h.jsxs)(p.Z,{children:[(0,h.jsx)(b.Z,{children:(0,h.jsxs)(v.Z,{children:[(0,h.jsx)(C.Z,{children:"Name"}),(0,h.jsx)(C.Z,{children:"Number"})]})}),(0,h.jsx)(g.Z,{children:a.map((function(e){var n=e.id,r=e.name,a=e.number;return(0,h.jsxs)(v.Z,{children:[(0,h.jsx)(C.Z,{children:r}),(0,h.jsx)(C.Z,{children:(0,h.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a,(0,h.jsxs)(w.Z,{direction:"row",children:[(0,h.jsx)(y.Z,{title:"Edit",children:(0,h.jsx)(k.Z,{onClick:function(){return t((0,S.h7)(n))},children:(0,h.jsx)(W.Z,{})})}),(0,h.jsx)(y.Z,{title:"Delete",children:(0,h.jsx)(k.Z,{onClick:function(){return t(c.Z.deleteContact(n))},children:(0,h.jsx)(N.Z,{})})})]})]})})]},n)}))})]})})})},I=function(){var e=(0,r.I0)();return(0,h.jsx)(u.Z,{component:"form",sx:{my:"16px"},children:(0,h.jsx)(m.Z,{fullWidth:!0,type:"search",name:"filter",label:"Type name to find",variant:"standard",onChange:function(n){e((0,S.a8)(n.currentTarget.value))}})})},q=t(4164),F=document.querySelector("#modal-root"),E=function(){var e=(0,i.useState)(""),n=(0,a.Z)(e,2),t=n[0],o=n[1],x=(0,i.useState)(""),f=(0,a.Z)(x,2),Z=f[0],j=f[1],p=(0,i.useState)(""),b=(0,a.Z)(p,2),v=b[0],C=b[1],g=(0,r.I0)(),w=(0,r.v9)((function(e){return e.contacts.editContact}));(0,i.useEffect)((function(){o(w[0].id),j(w[0].name),C(w[0].number)}),[w]);var y=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":return j(r);case"number":return C(r);default:return}},k=function(e){e.preventDefault(),g(c.Z.updateContact({id:t,name:Z,number:v})),g((0,S.Mr)())};return(0,q.createPortal)((0,h.jsxs)(u.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,borderRadius:2},children:[(0,h.jsx)(l.Z,{component:"h1",variant:"h5",sx:{textAlign:"center"},children:"Edit contact"}),(0,h.jsxs)(u.Z,{component:"form",onSubmit:k,sx:{mt:3},children:[(0,h.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,h.jsx)(d.ZP,{item:!0,xs:12,children:(0,h.jsx)(m.Z,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Name",autoFocus:!0,type:"text",value:Z,onChange:y})}),(0,h.jsx)(d.ZP,{item:!0,xs:12,children:(0,h.jsx)(m.Z,{name:"number",required:!0,fullWidth:!0,id:"number",label:"Number",type:"tel",value:v,onChange:y})})]}),(0,h.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",onClick:k,sx:{mt:3,mb:2},children:"Save edit contact"}),(0,h.jsx)(s.Z,{type:"submit",fullWidth:!0,variant:"contained",onClick:function(){return g((0,S.Mr)())},sx:{mb:2},children:"Close"})]})]}),F)},L=t(6445),_=function(){var e=(0,r.v9)((function(e){return e.contacts.showModal}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u.Z,{component:"main",children:(0,h.jsxs)(L.Z,{children:[(0,h.jsx)(I,{}),(0,h.jsx)(f,{}),(0,h.jsx)(P,{})]})}),e&&(0,h.jsx)(E,{})]})}}}]);
//# sourceMappingURL=contacts-page.d1ce29c6.chunk.js.map